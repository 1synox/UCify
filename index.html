<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UCify - Premium BGMI UC Store</title>

  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root{--bg1:#05050a;--bg2:#0f001a;--bg3:#1a0028;--stroke:rgba(255,255,255,.14);--stroke2:rgba(255,255,255,.22);--text:#ffffff;--muted:rgba(255,255,255,.78);--muted2:rgba(255,255,255,.62);--gold:#ffd700;--gold-bright:#ffed4e;--orange:#ff6b35;--mint:#00ff88;--cyan:#00d9ff;--purple:#b844ff;--error:#ff4d4d;--success:#00ff88;--shadow-sm:0 10px 26px rgba(0,0,0,.35);--shadow-md:0 18px 56px rgba(0,0,0,.48);--shadow-lg:0 28px 76px rgba(0,0,0,.62);--shadow-glow:0 0 44px rgba(255,215,0,.16);--radius:22px;--radius-sm:16px;--radius-xs:14px;--step-bg:url('bg1.jpg');--pay-logo-size:52px;--pay-card-height:100px}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Poppins',sans-serif;color:var(--text);background:radial-gradient(1000px 700px at 15% -5%,rgba(255,215,0,.22),transparent 50%),radial-gradient(1000px 700px at 88% 10%,rgba(255,107,53,.20),transparent 50%),radial-gradient(900px 600px at 50% 105%,rgba(0,255,136,.14),transparent 50%),radial-gradient(800px 500px at 75% 50%,rgba(184,68,255,.12),transparent 55%),linear-gradient(145deg,var(--bg1) 0%,var(--bg2) 50%,var(--bg3) 100%);background-attachment:fixed;overflow-x:hidden;min-height:100vh;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}input,textarea{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}body::before{content:"";position:fixed;inset:0;background:radial-gradient(circle at 20% 30%,rgba(255,215,0,.08) 0%,transparent 30%),radial-gradient(circle at 80% 70%,rgba(0,217,255,.06) 0%,transparent 30%);animation:particleFloat 15s ease-in-out infinite alternate;pointer-events:none;z-index:0}@keyframes particleFloat{0%{transform:translate(0,0) scale(1)}50%{transform:translate(30px,-30px) scale(1.08)}100%{transform:translate(-20px,20px) scale(0.96)}}.container{max-width:460px;margin:0 auto;padding:20px 16px;min-height:100vh;display:flex;flex-direction:column;gap:16px;position:relative;z-index:1}.top-card{border:1.5px solid var(--stroke);background:linear-gradient(135deg,rgba(255,255,255,.10) 0%,rgba(255,255,255,.04) 100%),linear-gradient(225deg,rgba(255,215,0,.07) 0%,transparent 55%);backdrop-filter:blur(24px) saturate(1.4);-webkit-backdrop-filter:blur(24px) saturate(1.4);border-radius:var(--radius);padding:22px 18px;box-shadow:var(--shadow-lg),inset 0 1px 0 rgba(255,255,255,.15),var(--shadow-glow);position:relative;overflow:hidden;transform-style:preserve-3d;transition:transform 0.25s ease,box-shadow 0.25s ease}.top-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg),0 34px 90px rgba(0,0,0,.65),var(--shadow-glow),inset 0 1px 0 rgba(255,255,255,.20)}.header{text-align:center;position:relative;z-index:1}.logo-img{max-width:240px;height:auto;filter:drop-shadow(0 4px 12px rgba(255,215,0,.32));animation:logoGlow 4s ease-in-out infinite alternate;display:inline-block}@keyframes logoGlow{0%{filter:drop-shadow(0 4px 12px rgba(255,215,0,.30))}100%{filter:drop-shadow(0 8px 24px rgba(255,215,0,.50))}}.tagline{margin-top:12px;color:var(--muted);font-size:13.5px;font-weight:600;letter-spacing:0.2px}.partner-block{margin-top:16px;display:flex;flex-direction:column;gap:10px;align-items:center;justify-content:center}.partner-badge{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.18);background:linear-gradient(135deg,rgba(0,217,255,.10) 0%,rgba(0,0,0,.28) 100%);color:rgba(255,255,255,.85);font-size:12px;font-weight:800;letter-spacing:.2px;box-shadow:0 10px 26px rgba(0,0,0,.35)}.partner-badge i{color:var(--cyan)}.brand-logos{display:flex;justify-content:center;gap:22px;flex-wrap:wrap;align-items:center}.brand-logo{height:44px;width:auto;opacity:.96;filter:drop-shadow(0 10px 24px rgba(0,0,0,.55));transition:transform .25s ease,opacity .25s ease}.brand-logo:hover{transform:translateY(-1px) scale(1.03);opacity:1}.trust-strip{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:14px}.trust-pill{display:flex;align-items:center;gap:8px;padding:9px 12px;border-radius:999px;border:1px solid var(--stroke);background:linear-gradient(135deg,rgba(0,255,136,.08) 0%,rgba(0,0,0,.30) 100%);backdrop-filter:blur(10px);color:var(--muted);font-size:12px;font-weight:700;box-shadow:0 6px 18px rgba(0,0,0,.25)}.progress-wrap{border:1.5px solid var(--stroke);background:linear-gradient(135deg,rgba(255,255,255,.06) 0%,rgba(255,255,255,.02) 100%);backdrop-filter:blur(16px);border-radius:var(--radius);padding:16px 16px;box-shadow:var(--shadow-md),inset 0 1px 0 rgba(255,255,255,.10)}.progress-container{display:flex;justify-content:space-between;align-items:center;gap:8px}.progress-step{width:38px;height:38px;border-radius:50%;background:linear-gradient(135deg,rgba(255,255,255,.10) 0%,rgba(255,255,255,.05) 100%);border:2px solid var(--stroke);display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:900;transition:all .35s cubic-bezier(0.4,0,0.2,1);z-index:2;position:relative}.progress-step.active{background:linear-gradient(135deg,var(--gold-bright) 0%,var(--orange) 100%);color:#1a0a00;border-color:transparent;box-shadow:0 0 0 4px rgba(255,215,0,.08),0 10px 30px rgba(255,215,0,.35),inset 0 1px 2px rgba(255,255,255,.5);transform:scale(1.08)}.progress-step.completed{background:linear-gradient(135deg,var(--mint) 0%,#00d98f 100%);color:#001a10;border-color:transparent}.progress-line{height:3px;flex:1;background:rgba(255,255,255,.15);border-radius:99px;z-index:1;transition:all .35s ease}.progress-line.active{background:linear-gradient(90deg,var(--gold) 0%,var(--orange) 100%);box-shadow:0 0 16px rgba(255,215,0,.4)}.step{display:none;animation:slideInUp .38s cubic-bezier(0.4,0,0.2,1)}.step.active{display:block}@keyframes slideInUp{from{opacity:0;transform:translateY(18px) scale(0.985)}to{opacity:1;transform:translateY(0) scale(1)}}.step-content{border:1.5px solid var(--stroke);background:linear-gradient(135deg,rgba(255,255,255,.08) 0%,rgba(255,255,255,.03) 100%);backdrop-filter:blur(20px) saturate(1.3);border-radius:var(--radius);padding:20px 18px;box-shadow:var(--shadow-lg),inset 0 1px 0 rgba(255,255,255,.12);position:relative;overflow:hidden}.step-content::before{content:"";position:absolute;inset:0;background:var(--step-bg) center/cover no-repeat;opacity:.22;filter:saturate(1.2) contrast(1.1) brightness(0.9);transform:scale(1.05);z-index:0}.step-content>*{position:relative;z-index:1}.step-title{font-family:'Orbitron',monospace;font-size:22px;font-weight:900;text-align:center;margin-bottom:16px;background:linear-gradient(135deg,var(--gold-bright) 0%,var(--orange) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.subnote{text-align:center;color:var(--muted2);font-size:12.5px;margin-top:-8px;margin-bottom:18px;font-weight:600}.packs-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:16px}.pack-card{background:linear-gradient(135deg,rgba(255,255,255,.08) 0%,rgba(255,255,255,.04) 100%);border:1.5px solid rgba(255,255,255,.14);border-radius:18px;padding:18px 14px;text-align:center;cursor:pointer;transition:all .28s cubic-bezier(0.4,0,0.2,1);position:relative;overflow:hidden;backdrop-filter:blur(10px);min-height:var(--pay-card-height)}.pack-card:hover:not(.purchased){transform:translateY(-4px) scale(1.02);border-color:rgba(255,215,0,.55);box-shadow:0 16px 44px rgba(0,0,0,.35)}.pack-card.selected{border-color:rgba(255,215,0,.90);background:linear-gradient(135deg,rgba(255,215,0,.16) 0%,rgba(255,107,53,.12) 100%);box-shadow:0 14px 46px rgba(255,215,0,.20);transform:translateY(-4px) scale(1.03)}.pack-card.selected::after{content:"âœ“";position:absolute;top:8px;right:8px;width:22px;height:22px;background:linear-gradient(135deg,var(--mint) 0%,#00d98f 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:900;color:#001a10}.pack-card.purchased{opacity:0.5;cursor:not-allowed;pointer-events:none;background:linear-gradient(135deg,rgba(100,100,100,.15) 0%,rgba(50,50,50,.10) 100%);border-color:rgba(150,150,150,.30)}.pack-card.purchased::before{content:"PURCHASED";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-15deg);font-size:13px;font-weight:900;color:rgba(255,255,255,.60);background:rgba(0,0,0,.70);padding:6px 14px;border-radius:8px;z-index:10;letter-spacing:1px;border:2px solid rgba(255,255,255,.25)}.pack-uc{display:flex;align-items:center;justify-content:center;gap:9px;font-family:system-ui,-apple-system,sans-serif;font-size:17px;font-weight:900;color:rgba(255,255,255,.95);margin-bottom:8px}.uc-icon{width:34px;height:34px;object-fit:contain;filter:drop-shadow(0 8px 18px rgba(255,215,0,.3))}.pack-price{font-family:system-ui,-apple-system,sans-serif;font-size:17px;font-weight:900;background:linear-gradient(135deg,var(--gold-bright) 0%,var(--gold) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.form-group{margin-bottom:16px;position:relative}.form-label{display:flex;align-items:center;justify-content:space-between;gap:10px;font-weight:800;margin-bottom:10px;color:rgba(255,255,255,.92);font-size:13.5px}.form-input-wrapper{position:relative;display:flex;align-items:center}.form-input{width:100%;padding:15px 48px 15px 16px;background:rgba(0,0,0,.28);border:1.5px solid rgba(255,255,255,.16);border-radius:16px;color:#fff;font-size:15px;font-weight:600;outline:none;transition:all 0.25s ease}.form-input:focus{border-color:rgba(255,215,0,.78);background:rgba(0,0,0,.36);box-shadow:0 0 0 4px rgba(255,215,0,.08)}.form-input.valid{border-color:var(--success)}.form-input.invalid{border-color:var(--error)}.input-icon{position:absolute;right:16px;font-size:18px;transition:all .3s ease;pointer-events:none}.input-icon.check{color:var(--success);animation:checkPop .4s cubic-bezier(0.68,-0.55,0.265,1.55)}.input-icon.error{color:var(--error)}@keyframes checkPop{0%{transform:scale(0) rotate(-180deg);opacity:0}50%{transform:scale(1.3) rotate(10deg)}100%{transform:scale(1) rotate(0deg);opacity:1}}.error-message{color:var(--error);font-size:12px;margin-top:6px;font-weight:600;display:none;animation:slideDown .3s ease}@keyframes slideDown{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.error-message.show{display:block}.pay-grid-container{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin:16px 0}.pay-app-btn{position:relative;text-decoration:none;background:rgba(255,255,255,0.06);border:1.5px solid rgba(255,255,255,0.16);border-radius:16px;padding:14px 10px 12px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all 0.26s ease;height:var(--pay-card-height);gap:10px;overflow:hidden;isolation:isolate;min-height:100px}.pay-app-btn::before{content:"";position:absolute;inset:-2px;background:radial-gradient(120px 90px at 40% 20%,rgba(255,215,0,.16),transparent 55%),radial-gradient(120px 90px at 80% 80%,rgba(0,217,255,.10),transparent 55%),linear-gradient(135deg,rgba(255,255,255,.08),rgba(0,0,0,0));opacity:.0;transition:opacity .26s ease;z-index:-1}.pay-app-btn:hover{transform:translateY(-3px);border-color:rgba(255,215,0,.55);box-shadow:0 14px 36px rgba(0,0,0,.40),0 0 26px rgba(255,215,0,.10);background:rgba(255,255,255,0.08)}.pay-app-btn:hover::before{opacity:1}.pay-app-btn img{width:var(--pay-logo-size);height:var(--pay-logo-size);object-fit:contain;filter:drop-shadow(0 6px 14px rgba(0,0,0,0.35));transform:translateZ(0)}.pay-app-name{font-size:12px;font-weight:900;color:rgba(255,255,255,.88);letter-spacing:.2px;line-height:1;text-align:center}.hint{color:var(--muted2);font-size:12px;margin-top:10px;line-height:1.45;font-weight:600}.file-upload-area{border:2px dashed rgba(255,215,0,.72);border-radius:18px;padding:24px 16px;text-align:center;transition:all .26s ease;cursor:pointer;background:linear-gradient(135deg,rgba(255,215,0,.10) 0%,rgba(255,215,0,.05) 100%);margin:16px 0 12px;position:relative}.file-upload-area:hover{border-color:rgba(255,215,0,1);background:linear-gradient(135deg,rgba(255,215,0,.16) 0%,rgba(255,215,0,.08) 100%);transform:translateY(-1px)}.upload-progress{position:absolute;bottom:0;left:0;height:4px;background:linear-gradient(90deg,var(--gold-bright) 0%,var(--orange) 100%);border-radius:0 0 18px 18px;width:0%;transition:width .3s ease;box-shadow:0 0 10px rgba(255,215,0,.5)}.upload-success-icon{font-size:48px;color:var(--success);animation:checkPop .5s cubic-bezier(0.68,-0.55,0.265,1.55);display:none}#screenshotPreview{max-width:100%;max-height:220px;border-radius:16px;margin-top:14px;display:none;border:2px solid rgba(255,255,255,.15)}.btn-row{display:flex;gap:12px}.btn{padding:15px 16px;border:none;border-radius:16px;font-size:15px;font-weight:900;cursor:pointer;transition:all .26s ease;width:100%;position:relative;min-height:52px}.btn-primary{background:linear-gradient(135deg,var(--gold-bright) 0%,var(--orange) 100%);color:#1a0800;box-shadow:0 12px 32px rgba(255,215,0,.30)}.btn-primary:hover:not(:disabled){transform:translateY(-2px) scale(1.01)}.btn-secondary{background:linear-gradient(135deg,rgba(255,255,255,.09) 0%,rgba(255,255,255,.04) 100%);color:#fff;border:1.5px solid rgba(255,255,255,.16)}.btn-secondary:hover:not(:disabled){background:linear-gradient(135deg,rgba(255,255,255,.14) 0%,rgba(255,255,255,.08) 100%);transform:translateY(-2px)}.btn:disabled{opacity:.45;cursor:not-allowed;transform:none!important}.btn.loading{pointer-events:none;color:transparent}.btn.loading::after{content:"";position:absolute;width:18px;height:18px;top:50%;left:50%;margin:-9px 0 0 -9px;border:3px solid transparent;border-top-color:currentColor;border-radius:50%;animation:buttonSpin 0.8s linear infinite}@keyframes buttonSpin{to{transform:rotate(360deg)}}.success-screen{text-align:center;padding:32px 12px 12px}.success-icon{font-size:76px;color:var(--mint);margin-bottom:14px;animation:successPop 0.6s cubic-bezier(0.68,-0.55,0.265,1.55)}@keyframes successPop{0%{transform:scale(0) rotate(-180deg);opacity:0}50%{transform:scale(1.2) rotate(10deg)}100%{transform:scale(1) rotate(0deg);opacity:1}}.success-title{font-size:24px;font-weight:900;margin-bottom:10px;background:linear-gradient(135deg,var(--mint) 0%,#00d98f 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.delivery-badge{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;background:linear-gradient(135deg,rgba(0,255,136,.15) 0%,rgba(0,217,255,.12) 100%);border:1.5px solid rgba(0,255,136,.4);border-radius:12px;margin:14px 0;font-weight:800;font-size:13px;color:rgba(255,255,255,.95);animation:pulse 2s ease-in-out infinite}@keyframes pulse{0%,100%{box-shadow:0 0 0 0 rgba(0,255,136,.4)}50%{box-shadow:0 0 0 8px rgba(0,255,136,0)}}.receipt-box{background:rgba(0,0,0,.35);border:1.5px solid rgba(255,255,255,.18);border-radius:16px;padding:16px;margin-top:16px;text-align:left}.receipt-title{font-weight:900;font-size:14px;color:var(--gold-bright);margin-bottom:12px;display:flex;align-items:center;gap:8px}.receipt-row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px dashed rgba(255,255,255,.1);font-size:13px}.receipt-row:last-child{border-bottom:none}.receipt-label{color:var(--muted2);font-weight:600}.receipt-value{color:rgba(255,255,255,.95);font-weight:800}.store-closed-overlay{position:fixed;inset:0;z-index:9999;display:none;align-items:center;justify-content:center;padding:20px;background:rgba(0,0,0,.85);backdrop-filter:blur(16px)}.store-closed-card{width:min(460px,100%);border:1.5px solid rgba(255,255,255,.18);background:linear-gradient(135deg,rgba(255,255,255,.10) 0%,rgba(255,255,255,.05) 100%);backdrop-filter:blur(24px);border-radius:20px;padding:22px 18px;text-align:center;box-shadow:var(--shadow-lg)}.store-closed-title{font-family:'Orbitron',monospace;font-size:22px;font-weight:900;background:linear-gradient(135deg,#ff4d4d 0%,var(--orange) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:12px}@media (max-width:480px){.container{padding:16px 14px}.logo-img{max-width:200px}:root{--pay-logo-size:48px;--pay-card-height:96px}}
  </style>
</head>

<body>

  <div class="store-closed-overlay" id="storeClosedOverlay">
    <div class="store-closed-card">
      <div class="store-closed-title">ðŸ”’ Store Closed</div>
      <div class="store-closed-text" style="color:#ddd; font-size:14px; font-weight:700; line-height:1.5;">
        Closing time: 1:00 AM to 9:00 AM<br>
        We'll start taking orders after 9:00 AM.
      </div>
    </div>
  </div>

  <div class="container">

    <div class="top-card">
      <div class="header">
        <img src="ucify.png" alt="UCify" class="logo-img" loading="lazy">
        <p class="tagline">Premium BGMI UC â€¢ Lightning-fast delivery</p>

        <div class="partner-block">
          <div class="partner-badge">
            <i class="fa-solid fa-badge-check"></i>
            <span>Official Partner</span>
          </div>

          <div class="brand-logos">
            <img src="krafton.png" alt="KRAFTON" class="brand-logo" loading="lazy">
            <img src="bgmi.png" alt="BGMI" class="brand-logo" loading="lazy">
          </div>
        </div>

        <div class="trust-strip">
          <div class="trust-pill"><i class="fa-solid fa-shield-halved"></i><span>Secure</span></div>
          <div class="trust-pill"><i class="fa-solid fa-bolt"></i><span>Fast</span></div>
          <div class="trust-pill"><i class="fa-solid fa-star"></i><span>Trusted</span></div>
        </div>
      </div>
    </div>

    <div class="progress-wrap">
      <div class="progress-container">
        <div class="progress-step active" data-step="1">1</div>
        <div class="progress-line" id="line1"></div>
        <div class="progress-step" data-step="2">2</div>
        <div class="progress-line" id="line2"></div>
        <div class="progress-step" data-step="3">3</div>
        <div class="progress-line" id="line3"></div>
        <div class="progress-step" data-step="4">4</div>
      </div>
    </div>

    <div id="step1" class="step active">
      <div class="step-content">
        <h2 class="step-title">Select UC Pack</h2>
        <p class="subnote">Choose your desired pack to continue</p>

        <div class="packs-grid" id="packsGrid">
          <div class="pack-card" data-uc="60" data-price="40">
            <div class="pack-uc"><img src="uc-logo.png" alt="UC" class="uc-icon" loading="lazy"><span>60 UC</span></div>
            <div class="pack-price">â‚¹40</div>
          </div>

          <div class="pack-card" data-uc="325" data-price="210">
            <div class="pack-uc"><img src="uc-logo.png" alt="UC" class="uc-icon" loading="lazy"><span>325 UC</span></div>
            <div class="pack-price">â‚¹210</div>
          </div>

          <div class="pack-card" data-uc="660" data-price="375">
            <div class="pack-uc"><img src="uc-logo.png" alt="UC" class="uc-icon" loading="lazy"><span>660 UC</span></div>
            <div class="pack-price">â‚¹375</div>
          </div>

          <div class="pack-card" data-uc="1800" data-price="950">
            <div class="pack-uc"><img src="uc-logo.png" alt="UC" class="uc-icon" loading="lazy"><span>1800 UC</span></div>
            <div class="pack-price">â‚¹950</div>
          </div>

          <div class="pack-card" data-uc="3850" data-price="1710">
            <div class="pack-uc"><img src="uc-logo.png" alt="UC" class="uc-icon" loading="lazy"><span>3850 UC</span></div>
            <div class="pack-price">â‚¹1710</div>
          </div>

          <div class="pack-card" data-uc="8100" data-price="3375">
            <div class="pack-uc"><img src="uc-logo.png" alt="UC" class="uc-icon" loading="lazy"><span>8100 UC</span></div>
            <div class="pack-price">â‚¹3375</div>
          </div>

          <div class="pack-card" data-uc="16200" data-price="5260">
            <div class="pack-uc"><img src="uc-logo.png" alt="UC" class="uc-icon" loading="lazy"><span>16200 UC</span></div>
            <div class="pack-price">â‚¹5260</div>
          </div>

          <div class="pack-card" data-uc="32400" data-price="9130">
            <div class="pack-uc"><img src="uc-logo.png" alt="UC" class="uc-icon" loading="lazy"><span>32400 UC</span></div>
            <div class="pack-price">â‚¹9130</div>
          </div>
        </div>

        <button type="button" class="btn btn-primary" id="next1" disabled>Continue to Details</button>
      </div>
    </div>

    <div id="step2" class="step">
      <div class="step-content">
        <h2 class="step-title">Enter Details</h2>
        <p class="subnote">Provide accurate information for smooth delivery</p>

        <div class="form-group">
          <label class="form-label">Selected Pack <span id="selectedPackDisplay" style="color:var(--gold); font-weight:900;">-</span></label>
        </div>

        <div class="form-group">
          <label class="form-label">BGMI UID (Exactly 10 digits)</label>
          <div class="form-input-wrapper">
            <input type="tel" class="form-input" id="uid" placeholder="1234567890" maxlength="10" inputmode="numeric">
            <i class="input-icon" id="uidIcon"></i>
          </div>
          <div class="error-message" id="uidError">Please enter a valid 10-digit UID</div>
        </div>

        <div class="form-group">
          <label class="form-label">In-Game Name (IGN)</label>
          <div class="form-input-wrapper">
            <input type="text" class="form-input" id="ign" placeholder="Your IGN" maxlength="20">
            <i class="input-icon" id="ignIcon"></i>
          </div>
          <div class="error-message" id="ignError">Please enter your in-game name</div>
        </div>

        <div class="btn-row">
          <button type="button" class="btn btn-secondary" id="back2">Back</button>
          <button type="button" class="btn btn-primary" id="next2" disabled>Continue to Payment</button>
        </div>
      </div>
    </div>

    <div id="step3" class="step">
      <div class="step-content">
        <h2 class="step-title">Payment</h2>
        <p class="subnote">Select your app and pay safely</p>

        <div class="pay-box payment-section" style="text-align:center; margin-bottom:16px;">
          <div style="color:rgba(255,255,255,.86); font-weight:900; font-size:16px; margin-bottom:12px;">
            Amount to Pay: <span id="paymentAmount" style="color:var(--gold-bright); font-size:22px;">â‚¹0</span>
          </div>

          <div class="pay-grid-container">
            <a id="link-phonepe" href="#" class="pay-app-btn" aria-label="Pay with PhonePe">
              <img src="phonepe.png" alt="PhonePe" loading="lazy">
              <div class="pay-app-name">PhonePe</div>
            </a>

            <a id="link-gpay" href="#" class="pay-app-btn" aria-label="Pay with Google Pay">
              <img src="gpay.png" alt="Google Pay" loading="lazy">
              <div class="pay-app-name">GPay</div>
            </a>

            <a id="link-paytm" href="#" class="pay-app-btn" aria-label="Pay with Paytm">
              <img src="paytm.png" alt="Paytm" loading="lazy">
              <div class="pay-app-name">Paytm</div>
            </a>

            <a id="link-bhim" href="#" class="pay-app-btn" aria-label="Pay with BHIM UPI">
              <img src="bhim.png" alt="BHIM" loading="lazy">
              <div class="pay-app-name">BHIM</div>
            </a>

            <a id="link-amazon" href="#" class="pay-app-btn" aria-label="Pay with Amazon Pay">
              <img src="amazonpay.png" alt="Amazon Pay" loading="lazy">
              <div class="pay-app-name">Amazon</div>
            </a>

            <a id="link-mobikwik" href="#" class="pay-app-btn" aria-label="Pay with MobiKwik">
              <img src="mobikwik.png" alt="MobiKwik" loading="lazy">
              <div class="pay-app-name">MobiKwik</div>
            </a>
          </div>

          <div style="text-align:left; background:rgba(0,0,0,0.30); padding:12px; border-radius:14px; font-size:13px; color:#ddd; line-height:1.6; border:1px solid rgba(255,255,255,.12);">
            <strong>ðŸ“± Instructions:</strong><br>
            1. Tap any app above to pay.<br>
            2. Pay the exact amount shown.<br>
            3. Take a screenshot and upload below.
          </div>
        </div>

        <form id="orderForm"
              name="uc-order"
              method="POST"
              enctype="multipart/form-data"
              data-netlify="true"
              data-netlify-honeypot="bot-field">

          <input type="hidden" name="form-name" value="uc-order">
          <p style="display:none;"><label>Don't fill this out: <input name="bot-field" tabindex="-1" autocomplete="off"></label></p>

          <input type="hidden" name="pack_uc" id="pack_uc">
          <input type="hidden" name="pack_price" id="pack_price">
          <input type="hidden" name="bgmi_uid" id="bgmi_uid">
          <input type="hidden" name="ign" id="ign_field">
          <input type="hidden" name="time" id="time_field">
          <input type="hidden" name="order_id" id="order_id_field">

          <div class="file-upload-area" id="uploadArea">
            <i class="fas fa-cloud-upload-alt upload-success-icon" id="uploadSuccessIcon"></i>
            <i class="fas fa-cloud-upload-alt" id="uploadIcon" style="font-size:48px; color:var(--gold); margin-bottom:12px;"></i>
            <p style="font-weight:900; font-size:15px;" id="uploadText">ðŸ“¸ Upload Payment Screenshot</p>
            <div class="hint" id="uploadHint">Only JPG, PNG, WEBP under 5MB</div>
            <input type="file" id="screenshot" name="payment_screenshot" accept=".jpg,.jpeg,.png,.webp,image/jpeg,image/png,image/webp" style="display:none;">
            <img id="screenshotPreview" alt="Preview">
            <div class="upload-progress" id="uploadProgress"></div>
          </div>

          <div class="btn-row">
            <button type="button" class="btn btn-secondary" id="back3">Back</button>
            <button type="submit" class="btn btn-primary" id="submitBtn" disabled>Place Order</button>
          </div>
        </form>
      </div>
    </div>

    <div id="step4" class="step">
      <div class="step-content success-screen">
        <div class="success-icon"><i class="fas fa-check-circle"></i></div>
        <h2 class="success-title">Order Received âœ“</h2>
        <p class="success-text" style="color:rgba(255,255,255,.85); font-weight:700; margin-bottom:8px;">Thank you! Your order has been placed successfully.</p>

        <div class="delivery-badge">
          <i class="fas fa-rocket"></i>
          <span>Delivery within 5 minutes</span>
        </div>

        <div style="margin-top:12px;">
          <div style="font-weight:900;color:rgba(255,255,255,.95); font-size:15px;">
            Order ID: <span id="orderIdText" style="color:var(--gold-bright); font-family: monospace;">-</span>
          </div>
        </div>

        <div class="receipt-box">
          <div class="receipt-title">
            <i class="fas fa-receipt"></i>
            Payment Receipt
          </div>
          <div class="receipt-row">
            <span class="receipt-label">Pack</span>
            <span class="receipt-value" id="receipt-pack">-</span>
          </div>
          <div class="receipt-row">
            <span class="receipt-label">Amount Paid</span>
            <span class="receipt-value" id="receipt-amount">-</span>
          </div>
          <div class="receipt-row">
            <span class="receipt-label">BGMI UID</span>
            <span class="receipt-value" id="receipt-uid">-</span>
          </div>
          <div class="receipt-row">
            <span class="receipt-label">IGN</span>
            <span class="receipt-value" id="receipt-ign">-</span>
          </div>
          <div class="receipt-row">
            <span class="receipt-label">Order Time</span>
            <span class="receipt-value" id="receipt-time">-</span>
          </div>
          <div class="receipt-row">
            <span class="receipt-label">Status</span>
            <span class="receipt-value" style="color:var(--mint);">Processing</span>
          </div>
        </div>

        <div style="margin-top:16px; background:rgba(0,217,255,.08); border:1.5px solid rgba(0,217,255,.3); border-radius:14px; padding:12px; text-align:left;">
          <div style="font-weight:900; color:var(--cyan); margin-bottom:8px; display:flex; align-items:center; gap:8px;">
            <i class="fas fa-info-circle"></i>
            <span>What happens next?</span>
          </div>
          <div style="font-size:12.5px; color:rgba(255,255,255,.85); line-height:1.6; font-weight:600;">
            1. Our team will verify your payment<br>
            2. UC will be added to your account<br>
            3. You'll receive within 5 minutes
          </div>
        </div>

        <div style="margin-top:16px;">
          <button type="button" class="btn btn-primary" onclick="location.reload()">Place New Order</button>
        </div>
      </div>
    </div>

  </div>

  <script>
    let currentStep = 1;
    let selectedPack = null;
    let screenshotFile = null;
    let orderId = null;

    // UPDATED UPI ID
    const UPI_VPA = "ucify@ptaxis";
    const PURCHASES_KEY = 'ucify_purchased_packs';

    // Haptic feedback helper
    function triggerHaptic(type = 'light') {
      if (navigator.vibrate) {
        const patterns = {
          light: 10,
          medium: 20,
          heavy: 30,
          success: [10, 20, 10]
        };
        navigator.vibrate(patterns[type] || 10);
      }
    }

    // Auto scroll helper
    function smoothScrollToTop() {
      const container = document.querySelector('.container');
      window.scrollTo({ top: 0, behavior: 'smooth' });
      setTimeout(() => {
        if (container && container.children[2]) {
          container.children[2].scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      }, 100);
    }

    // Pack purchase tracking
    function loadPurchasedPacks() {
      try {
        const data = localStorage.getItem(PURCHASES_KEY);
        return data ? JSON.parse(data) : [];
      } catch {
        return [];
      }
    }

    function savePurchasedPacks(packs) {
      localStorage.setItem(PURCHASES_KEY, JSON.stringify(packs));
    }

    function isPackPurchased(packUc) {
      const purchased = loadPurchasedPacks();
      return purchased.includes(String(packUc));
    }

    function markPackPurchased(packUc) {
      const purchased = loadPurchasedPacks();
      const packStr = String(packUc);
      if (!purchased.includes(packStr)) {
        purchased.push(packStr);
        savePurchasedPacks(purchased);
      }
    }

    // Store timing
    function getIndiaHour() {
      const parts = new Intl.DateTimeFormat('en-IN', {
        timeZone: 'Asia/Kolkata',
        hour: '2-digit',
        hour12: false
      }).formatToParts(new Date());
      return Number(parts.find(p => p.type === 'hour').value);
    }

    function applyStoreTiming(){
      const hour = getIndiaHour();
      const isClosed = (hour >= 1 && hour < 9);

      const overlay = document.getElementById('storeClosedOverlay');
      overlay.style.display = isClosed ? 'flex' : 'none';

      document.querySelectorAll('button, input, select, textarea').forEach(el => {
        if (overlay.contains(el)) return;
        if (isClosed) el.setAttribute('disabled', 'true');
        else el.removeAttribute('disabled');
      });

      document.querySelectorAll('a.pay-app-btn').forEach(a => {
        if (overlay.contains(a)) return;
        a.style.pointerEvents = isClosed ? 'none' : 'auto';
        a.setAttribute('aria-disabled', isClosed ? 'true' : 'false');
        a.style.opacity = isClosed ? '0.55' : '';
      });
    }

    // UPI link builder
    function buildAppSpecificLink(app, { vpa, name, amount, note }) {
      const upiString =
        `pa=${encodeURIComponent(vpa)}&pn=${encodeURIComponent(name)}&am=${encodeURIComponent(amount)}&cu=INR&tn=${encodeURIComponent(note)}`;

      switch(app) {
        case 'phonepe': return `phonepe://pay?${upiString}`;
        case 'gpay': return `tez://upi/pay?${upiString}`;
        case 'paytm': return `paytmmp://pay?${upiString}`;
        case 'bhim': return `bhim://upi/pay?${upiString}`;
        case 'amazon': return `amazonpay://pay?${upiString}`;
        case 'mobikwik': return `mobikwik://upi/pay?${upiString}`;
        default: return `upi://pay?${upiString}`;
      }
    }

    function generateOrderId(){
      return `UCF-${Date.now().toString().slice(-6)}-${Math.floor(100 + Math.random()*900)}`;
    }

    // Initialize
    function initializePacks() {
      document.querySelectorAll('.pack-card').forEach(card => {
        const packUc = card.dataset.uc;
        if (isPackPurchased(packUc)) {
          card.classList.add('purchased');
        }
      });
    }

    updateProgress();
    applyStoreTiming();
    initializePacks();
    setInterval(applyStoreTiming, 30000);

    // STEP 1: Pack selection
    document.querySelectorAll('.pack-card').forEach(card => {
      card.addEventListener('click', function() {
        if (this.classList.contains('purchased')) {
          triggerHaptic('medium');
          return;
        }
        
        triggerHaptic('light');
        document.querySelectorAll('.pack-card').forEach(c => c.classList.remove('selected'));
        this.classList.add('selected');
        selectedPack = { uc: this.dataset.uc, price: this.dataset.price };
        document.getElementById('next1').disabled = false;
      });
    });

    document.getElementById('next1').onclick = function() {
      if (!selectedPack) return;
      triggerHaptic('medium');
      document.getElementById('selectedPackDisplay').textContent = `${selectedPack.uc} UC â€¢ â‚¹${selectedPack.price}`;
      showStep(2);
    };

    // STEP 2: Form validation
    const uidInput = document.getElementById('uid');
    const ignInput = document.getElementById('ign');
    const uidIcon = document.getElementById('uidIcon');
    const ignIcon = document.getElementById('ignIcon');
    const uidError = document.getElementById('uidError');
    const ignError = document.getElementById('ignError');

    // FIXED UID VALIDATION: Only exactly 10 digits
    function validateUID(value) {
      return /^[0-9]{10}$/.test(value);
    }

    function validateIGN(value) {
      return value.trim().length >= 2;
    }

    function showValidation(input, icon, error, isValid) {
      if (isValid) {
        input.classList.remove('invalid');
        input.classList.add('valid');
        icon.className = 'input-icon check fas fa-check-circle';
        error.classList.remove('show');
      } else {
        input.classList.remove('valid');
        input.classList.add('invalid');
        icon.className = 'input-icon error fas fa-times-circle';
        error.classList.add('show');
      }
    }

    uidInput.addEventListener('input', function() {
      this.value = this.value.replace(/\D/g, '').slice(0, 10);
      
      const isValid = validateUID(this.value);
      
      if (this.value.length === 10) {
        showValidation(this, uidIcon, uidError, isValid);
        if(isValid) triggerHaptic('light');
      } else {
        this.classList.remove('valid', 'invalid');
        uidIcon.className = 'input-icon';
        uidError.classList.remove('show');
      }
      validateStep2();
    });

    uidInput.addEventListener('blur', function() {
        showValidation(this, uidIcon, uidError, validateUID(this.value));
    });

    ignInput.addEventListener('input', function() {
      if (this.value.trim().length >= 2) {
        showValidation(this, ignIcon, ignError, true);
      } else {
        this.classList.remove('valid', 'invalid');
        ignIcon.className = 'input-icon';
      }
      validateStep2();
    });

    ignInput.addEventListener('blur', function() {
        if(this.value.length > 0) showValidation(this, ignIcon, ignError, validateIGN(this.value));
    });

    function validateStep2() {
      const uid = uidInput.value;
      const ign = ignInput.value;
      const isValid = validateUID(uid) && validateIGN(ign);
      document.getElementById('next2').disabled = !isValid;
      return isValid;
    }

    document.getElementById('next2').onclick = function() {
      if (!selectedPack || !validateStep2()) return;
      triggerHaptic('medium');
      document.getElementById('paymentAmount').textContent = `â‚¹${selectedPack.price}`;
      orderId = generateOrderId();
      const note = `Order ${orderId}`;
      const paymentData = { vpa: UPI_VPA, name: 'UCify', amount: selectedPack.price, note };

      document.getElementById('link-phonepe').href = buildAppSpecificLink('phonepe', paymentData);
      document.getElementById('link-gpay').href = buildAppSpecificLink('gpay', paymentData);
      document.getElementById('link-paytm').href = buildAppSpecificLink('paytm', paymentData);
      document.getElementById('link-bhim').href = buildAppSpecificLink('bhim', paymentData);
      document.getElementById('link-amazon').href = buildAppSpecificLink('amazon', paymentData);
      document.getElementById('link-mobikwik').href = buildAppSpecificLink('mobikwik', paymentData);
      showStep(3);
    };

    document.getElementById('back2').onclick = () => { triggerHaptic('light'); showStep(1); };
    document.getElementById('back3').onclick = () => { triggerHaptic('light'); showStep(2); };

    // STEP 3: File upload
    const uploadArea = document.getElementById('uploadArea');
    const fileInput = document.getElementById('screenshot');
    const preview = document.getElementById('screenshotPreview');
    const submitBtn = document.getElementById('submitBtn');
    const uploadProgress = document.getElementById('uploadProgress');
    const uploadIcon = document.getElementById('uploadIcon');
    const uploadSuccessIcon = document.getElementById('uploadSuccessIcon');
    const uploadText = document.getElementById('uploadText');
    const uploadHint = document.getElementById('uploadHint');

    uploadArea.onclick = () => fileInput.click();
    fileInput.onchange = handleFile;

    function handleFile(e) {
      const file = e.target.files[0];
      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp'];
      
      if (file && allowedTypes.includes(file.type) && file.size < 5 * 1024 * 1024) {
        screenshotFile = file;
        let progress = 0;
        uploadProgress.style.width = '0%';
        const interval = setInterval(() => {
          progress += 10;
          uploadProgress.style.width = progress + '%';
          if (progress >= 100) {
            clearInterval(interval);
            setTimeout(() => { showUploadSuccess(); }, 200);
          }
        }, 50);

        const reader = new FileReader();
        reader.onload = (evt) => {
          preview.src = evt.target.result;
          preview.style.display = 'block';
        };
        reader.readAsDataURL(file);
      } else {
        screenshotFile = null;
        preview.style.display = "none";
        submitBtn.disabled = true;
        triggerHaptic('heavy');
        alert("âš ï¸ Only JPG, PNG, WEBP files under 5MB allowed.");
      }
    }

    function showUploadSuccess() {
      triggerHaptic('success');
      uploadIcon.style.display = 'none';
      uploadSuccessIcon.style.display = 'block';
      uploadText.textContent = 'âœ“ Screenshot Uploaded';
      uploadText.style.color = 'var(--success)';
      uploadArea.style.borderColor = 'var(--success)';
      submitBtn.disabled = false;
    }

    function fillReceipt() {
      const timeVal = document.getElementById('time_field').value;
      const uidVal = document.getElementById('uid').value.trim();
      const ignVal = document.getElementById('ign').value.trim();
      document.getElementById('orderIdText').textContent = orderId || 'UCF-NA';
      document.getElementById('receipt-pack').textContent = `${selectedPack.uc} UC`;
      document.getElementById('receipt-amount').textContent = `â‚¹${selectedPack.price}`;
      document.getElementById('receipt-uid').textContent = uidVal;
      document.getElementById('receipt-ign').textContent = ignVal;
      document.getElementById('receipt-time').textContent = timeVal;
    }

    const orderForm = document.getElementById('orderForm');
    orderForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      if (!selectedPack || !screenshotFile) return;
      triggerHaptic('medium');
      submitBtn.disabled = true;
      submitBtn.classList.add('loading');

      document.getElementById('pack_uc').value = selectedPack.uc;
      document.getElementById('pack_price').value = selectedPack.price;
      document.getElementById('bgmi_uid').value = document.getElementById('uid').value.trim();
      document.getElementById('ign_field').value = document.getElementById('ign').value.trim();
      document.getElementById('time_field').value = new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' });
      document.getElementById('order_id_field').value = orderId;

      const formData = new FormData(orderForm);
      try {
        const res = await fetch('/', { method: 'POST', body: formData });
        if (res.ok) {
          markPackPurchased(selectedPack.uc);
          fillReceipt();
          triggerHaptic('success');
          showStep(4);
        } else {
          throw new Error();
        }
      } catch (err) {
        triggerHaptic('heavy');
        alert("âš ï¸ Submit failed. Please try again.");
        submitBtn.disabled = false;
        submitBtn.classList.remove('loading');
      }
    });

    function showStep(step) {
      document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
      document.getElementById(`step${step}`).classList.add('active');
      currentStep = step;
      updateProgress();
      smoothScrollToTop();
    }

    function updateProgress() {
      const steps = document.querySelectorAll('.progress-step');
      const lines = [document.getElementById('line1'), document.getElementById('line2'), document.getElementById('line3')];
      steps.forEach((stepEl, idx) => {
        stepEl.classList.toggle('completed', idx < currentStep - 1);
        stepEl.classList.toggle('active', idx === currentStep - 1);
      });
      lines.forEach((lineEl, idx) => { lineEl.classList.toggle('active', idx < currentStep - 1); });
    }
  </script>
</body>
</html>
